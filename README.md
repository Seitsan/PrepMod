PrepMod - приложение для обработки данных по экотоксичности химических соединений и подготовки sdf файлов с возможностью 5-кратной кросс-валидации. Код написан на Python, логика работы следующая:
1. Загрузка файла .xlsx или .csv со столбцами, содержащими информацию о: CAS, химическом названии вещества, Canonical SMILES, названии организма (по-латыни), Effect, Test statistic, Duration (hours), Effect value
2. Просмотр статистики по загруженной БД (список эффектов с количеством записей, топ-10 сочетаний Effect - Test statistic - Duration по количеству записей
3. Выбор данных, с которыми будет вестись работа - все сочетания с количеством записей >= N или более точная фильтрация
4. Удаление дубликатов с использованием медианы Effect value
5. Конвертации Canonical SMILES в Molfile с помощью rdkit
6. Определение молекулярного веса вещества по Canonical SMILES
7. Перевод значений Effect value из мг/л в отрицательный молярный логарифм по формуле {Effect value} / ( {MW} * 1000000 )
8. Удаление немонокомпонентных структур
9. Удаление неэлектронейтральных структур
10. Удаление веществ с молекулярным весом более 1250
11. Удаление веществ, которых содержат менее 3 атомов C
12. 5-кратная кросс-валидация с сохранением sdf файлов по следующей логике
LatinName/Effect/TestStatistic/Duration/
├── data.sdf
├── Fold_1/
│   ├── train.sdf
│   └── test.sdf
├── Fold_2/
│   ├── train.sdf
│   └── test.sdf
└── ...
